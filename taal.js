const groups = [
  {
    sentences: [
      "Wat doe je in mijn kamer?",
      "Ik zoek een föhn. Mag ik je föhn lenen?",
      "Sinds wanneer droog jij je haar?",
      "Anders zit het raar. Ik ga naar een feestje.",
    ],
    translations: [
      "ماذا تفعل في غرفتي؟",
      "أبحث عن مجفف الشعر. هل يمكنني استعارة مجفف شعرك؟",
      "منذ متى وأنت تجفف شعرك؟",
      "وإلا سيبدو شعري غريبًا. سأذهب إلى حفلة.",
    ],
    className: 'group-1'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-2'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-3'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-4'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-5'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-6'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-7'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-8'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-9'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-10'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-11'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-12'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-13'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-14'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-15'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-16'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-17'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-18'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-19'
  },
  {
    sentences: [
      "Hoe laat is het?",
      "Ik ben te laat.",
      "Waar is mijn sleutels?",
      "Ik ga naar de winkel.",
    ],
    translations: [
      "كم الساعة؟",
      "أنا متأخر.",
      "أين مفاتيحي؟",
      "سأذهب إلى المتجر.",
    ],
    className: 'group-20'
  },
  // Add more groups up to 20
];

document.addEventListener("DOMContentLoaded", function() {
  let currentIndex = 0;
  let currentGroup = 0;

  const sentenceDisplay = document.getElementById("sentence-display");
  const translationDisplay = document.getElementById("translation-display");
  const prevButton = document.getElementById("prev-button");
  const playButton = document.getElementById("play-button");
  const nextButton = document.getElementById("next-button");
  const recordButton = document.getElementById("record-button");
  const resultDisplay = document.getElementById("result");
  const groupSelect = document.getElementById("group-select");
  const container = document.querySelector('.container');

  let recognition = null;

  function updateSentence() {
    sentenceDisplay.textContent = groups[currentGroup].sentences[currentIndex];
    translationDisplay.textContent = groups[currentGroup].translations[currentIndex];
    resultDisplay.textContent = '';
    playSentence();
  }

  function playSentence() {
    const utterance = new SpeechSynthesisUtterance(groups[currentGroup].sentences[currentIndex]);
    utterance.lang = 'nl-NL';
    utterance.rate = 0.9;
    speechSynthesis.speak(utterance);
  }

  function startRecognition() {
    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'nl-NL';
    recognition.start();

    recognition.onresult = function(event) {
      const spokenText = event.results[0][0].transcript.toLowerCase();
      const currentSentence = groups[currentGroup].sentences[currentIndex].toLowerCase();
      resultDisplay.textContent = spokenText;
      if (spokenText === currentSentence) {
        resultDisplay.textContent += ' - ✔️ Juist!';
      } else {
        resultDisplay.textContent += ' - ❌ Probeer het nog een keer';
      }
    };

    recognition.onerror = function(event) {
      resultDisplay.textContent = '❌ Fout: ' + event.error;
    };
  }

  function updateGroup() {
    container.classList.remove(groups[currentGroup].className);
    currentGroup = parseInt(groupSelect.value);
    container.classList.add(groups[currentGroup].className);
    currentIndex = 0;
    updateSentence();
  }

  groupSelect.addEventListener("change", updateGroup);

  prevButton.addEventListener("click", () => {
    if (currentIndex > 0) {
      currentIndex--;
      updateSentence();
    }
  });

  nextButton.addEventListener("click", () => {
    if (currentIndex < groups[currentGroup].sentences.length - 1) {
      currentIndex++;
      updateSentence();
    }
  });

  playButton.addEventListener("click", playSentence);

  recordButton.addEventListener("click", startRecognition);

  updateSentence();
  container.classList.add(groups[currentGroup].className);
});
